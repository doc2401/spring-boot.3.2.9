<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>SpyBean (Spring Boot 3.2.9 API)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="description" content="declaration: package: org.springframework.boot.test.mock.mockito, annotation type: SpyBean">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-3.6.1.min.js"></script>
<script type="text/javascript" src="../../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/SpyBean.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a>&nbsp;|&nbsp;</li>
<li>Required</li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.springframework.boot.test.mock.mockito</a></div>
<h1 title="Annotation Interface SpyBean" class="title">Annotation Interface SpyBean</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>({<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#TYPE" title="class or interface in java.lang.annotation" class="external-link">TYPE</a>,<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#FIELD" title="class or interface in java.lang.annotation" class="external-link">FIELD</a>})
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Repeatable.html" title="class or interface in java.lang.annotation" class="external-link">@Repeatable</a>(<a href="SpyBeans.html" title="annotation interface in org.springframework.boot.test.mock.mockito">SpyBeans.class</a>)
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">SpyBean</span></div>
<div class="block">Annotation that can be used to apply Mockito spies to a Spring
 <a href="https://docs.spring.io/spring-framework/docs/6.1.12/javadoc-api/org/springframework/context/ApplicationContext.html" title="class or interface in org.springframework.context" class="external-link"><code>ApplicationContext</code></a>. Can be used as a class level annotation or on fields in
 either <code>@Configuration</code> classes, or test classes that are
 <code>@RunWith</code> the <a href="https://docs.spring.io/spring-framework/docs/6.1.12/javadoc-api/org/springframework/test/context/junit4/SpringRunner.html" title="class or interface in org.springframework.test.context.junit4" class="external-link"><code>SpringRunner</code></a>.
 <p>
 Spies can be applied by type or by <a href="#name()"><code>bean name</code></a>. All beans in the context
 of a matching type (including subclasses) will be wrapped with the spy. If no existing
 bean is defined a new one will be added. Dependencies that are known to the application
 context but are not beans (such as those
 <a href="https://docs.spring.io/spring-framework/docs/6.1.12/javadoc-api/org/springframework/beans/factory/config/ConfigurableListableBeanFactory.html#registerResolvableDependency(java.lang.Class,java.lang.Object)" title="class or interface in org.springframework.beans.factory.config" class="external-link"><code>registered directly</code></a>) will not be found and a spied bean will be added to the context
 alongside the existing dependency.
 <p>
 When <code>@SpyBean</code> is used on a field, as well as being registered in the
 application context, the spy will also be injected into the field. Typical usage might
 be: <pre class="code">
 &#064;RunWith(SpringRunner.class)
 public class ExampleTests {

     &#064;SpyBean
     private ExampleService service;

     &#064;Autowired
     private UserOfService userOfService;

     &#064;Test
     public void testUserOfService() {
         String actual = this.userOfService.makeUse();
         assertEquals("Was: Hello", actual);
         verify(this.service).greet();
     }

     &#064;Configuration
     &#064;Import(UserOfService.class) // A &#064;Component injected with ExampleService
     static class Config {
     }


 }
 </pre> If there is more than one bean of the requested type, qualifier metadata must be
 specified at field level: <pre class="code">
 &#064;RunWith(SpringRunner.class)
 public class ExampleTests {

     &#064;SpyBean
     &#064;Qualifier("example")
     private ExampleService service;

     ...
 }
 </pre>
 <p>
 This annotation is <code>@Repeatable</code> and may be specified multiple times when working
 with Java 8 or contained within a <a href="SpyBeans.html" title="annotation interface in org.springframework.boot.test.mock.mockito"><code>@SpyBeans</code></a> annotation.</div>
<dl class="notes">
<dt>Since:</dt>
<dd>1.4.0</dd>
<dt>Author:</dt>
<dd>Phillip Webb</dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="MockitoPostProcessor.html" title="class in org.springframework.boot.test.mock.mockito"><code>MockitoPostProcessor</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</code></div>
<div class="col-second even-row-color"><code><a href="#classes()" class="member-name-link">classes</a></code></div>
<div class="col-last even-row-color">
<div class="block">The classes to spy.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#name()" class="member-name-link">name</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the bean to spy.</div>
</div>
<div class="col-first even-row-color"><code>boolean</code></div>
<div class="col-second even-row-color"><code><a href="#proxyTargetAware()" class="member-name-link">proxyTargetAware</a></code></div>
<div class="col-last even-row-color">
<div class="block">Indicates that Mockito methods such as <code>verify(mock)</code>
 should use the <code>target</code> of AOP advised beans, rather than the proxy itself.</div>
</div>
<div class="col-first odd-row-color"><code><a href="MockReset.html" title="enum class in org.springframework.boot.test.mock.mockito">MockReset</a></code></div>
<div class="col-second odd-row-color"><code><a href="#reset()" class="member-name-link">reset</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The reset mode to apply to the spied bean.</div>
</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</code></div>
<div class="col-second even-row-color"><code><a href="#value()" class="member-name-link">value</a></code></div>
<div class="col-last even-row-color">
<div class="block">The classes to spy.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="name()">
<h3>name</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">name</span></div>
<div class="block">The name of the bean to spy. If not specified the name will either be generated or,
 if the spy is for an existing bean, the existing name will be used.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the bean</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>""</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="value()">
<h3>value</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.spring.io/spring-framework/docs/6.1.12/javadoc-api/org/springframework/core/annotation/AliasFor.html" title="class or interface in org.springframework.core.annotation" class="external-link">@AliasFor</a>("classes")
</span><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">value</span></div>
<div class="block">The classes to spy. This is an alias of <a href="#classes()"><code>classes()</code></a> which can be used for
 brevity if no other attributes are defined. See <a href="#classes()"><code>classes()</code></a> for details.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the classes to spy</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="classes()">
<h3>classes</h3>
<div class="member-signature"><span class="annotations"><a href="https://docs.spring.io/spring-framework/docs/6.1.12/javadoc-api/org/springframework/core/annotation/AliasFor.html" title="class or interface in org.springframework.core.annotation" class="external-link">@AliasFor</a>("value")
</span><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html" title="class or interface in java.lang" class="external-link">Class</a>&lt;?&gt;[]</span>&nbsp;<span class="element-name">classes</span></div>
<div class="block">The classes to spy. Each class specified here will result in a spy being applied.
 Classes can be omitted when the annotation is used on a field.
 <p>
 When <code>@SpyBean</code> also defines a <code>name</code> this attribute can only contain a
 single value.
 <p>
 If this is the only specified attribute consider using the <code>value</code> alias
 instead.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the classes to spy</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="reset()">
<h3>reset</h3>
<div class="member-signature"><span class="return-type"><a href="MockReset.html" title="enum class in org.springframework.boot.test.mock.mockito">MockReset</a></span>&nbsp;<span class="element-name">reset</span></div>
<div class="block">The reset mode to apply to the spied bean. The default is <a href="MockReset.html#AFTER"><code>MockReset.AFTER</code></a>
 meaning that spies are automatically reset after each test method is invoked.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the reset mode</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>AFTER</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="proxyTargetAware()">
<h3>proxyTargetAware</h3>
<div class="member-signature"><span class="return-type">boolean</span>&nbsp;<span class="element-name">proxyTargetAware</span></div>
<div class="block">Indicates that Mockito methods such as <code>verify(mock)</code>
 should use the <code>target</code> of AOP advised beans, rather than the proxy itself.
 If set to <code>false</code> you may need to use the result of
 <a href="https://docs.spring.io/spring-framework/docs/6.1.12/javadoc-api/org/springframework/test/util/AopTestUtils.html#getUltimateTargetObject(java.lang.Object)" title="class or interface in org.springframework.test.util" class="external-link"><code>AopTestUtils.getUltimateTargetObject(...)</code></a> when calling Mockito methods.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd><code>true</code> if the target of AOP advised beans is used or <code>false</code> if
 the proxy is used directly</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>true</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
<script>if (window.parent == window) {(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-2728886-23', 'auto', {'siteSpeedSampleRate': 100});ga('send', 'pageview');}</script></body>
</html>
